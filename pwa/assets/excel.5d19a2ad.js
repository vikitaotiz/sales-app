function l(n){setTimeout(()=>{window.URL.revokeObjectURL(n.href)},1e4),n.remove()}function u(n,o,d={}){const{mimeType:e,byteOrderMark:r,encoding:c}=typeof d=="string"?{mimeType:d}:d,s=c!==void 0?new TextEncoder(c).encode([o]):o,a=r!==void 0?[r,s]:[s],i=new Blob(a,{type:e||"application/octet-stream"}),t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.setAttribute("download",n),typeof t.download=="undefined"&&t.setAttribute("target","_blank"),t.classList.add("hidden"),t.style.position="fixed",document.body.appendChild(t);try{return t.click(),l(t),!0}catch(p){return l(t),p}}const m=(n,o,d,e,r)=>{const c=[o.map(a=>f(a.label))].concat(n.map(a=>o.map(i=>f(typeof i.field=="function"?i.field(a):a[i.field===void 0?i.name:i.field],i.format,a)).join(","))).join(`\r
`);d(`${r}.csv`,c,"text/csv")!==!0&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},f=(n,o,d)=>{let e=o!==void 0?o(n,d):n;return e=e==null?"":String(e),e=e.split('"').join('""'),`"${e}"`};export{u as a,m as e};
