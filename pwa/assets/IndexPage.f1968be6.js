import{r as u,ca as h,j as Q,aJ as v,a4 as x,bb as r,a7 as l,d as a,bD as V,ad as m,Q as q,bE as k}from"./index.dd34d1b3.js";import{b as c,Q as B}from"./QCard.0409bdf8.js";import{Q as p}from"./QInput.4b988aaf.js";import{Q as C}from"./QPage.56ee5ea2.js";import{u as E}from"./auth-store.636ace30.js";import{a as L}from"./use-quasar.a3a7a307.js";import"./helpers.d6d0b5ed.js";const P={class:"q-gutter-y-md",style:{width:"60%"}},S={style:{"font-weight":"bolder","font-size":"larger"}},D=l("br",null,null,-1),I=l("hr",null,null,-1),M={style:{color:"red"}},F={__name:"IndexPage",setup(N){const t=u(!1),n=u(""),f=L(),g=h(),_=E(),o=Q({name:"",email:"",password:""}),b=async()=>{const s={email:o.email.trim(),password:o.password.trim()};if(s.email&&s.password){t.value=!0;const e=await _.login(s);e.status==="success"?y(e.message,"green"):(t.value=!1,w(e.message))}else t.value=!1,d("Email and password are required","red")},d=(s,e)=>{f.notify({message:s,color:e,position:"top"})},w=s=>{n.value=s,d(s,"red"),setTimeout(()=>n.value="",1e4)},y=(s,e)=>{g.push("/dashboard"),t.value=!1,d(s,e)};return(s,e)=>(v(),x(C,{class:"flex flex-center"},{default:r(()=>[l("div",P,[a(B,{bordered:""},{default:r(()=>[a(c,{class:"text-center"},{default:r(()=>[l("p",S,[a(V,{name:"grain",style:{"font-size":"30px"}}),m(),D,m("Login to the System ")]),I]),_:1}),a(c,null,{default:r(()=>[a(p,{rounded:"",dense:"",outlined:"",type:"email",label:"Email",modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=i=>o.email=i),class:"q-mb-sm"},null,8,["modelValue"]),a(p,{rounded:"",dense:"",outlined:"",type:"password",label:"Password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),class:"q-mb-sm"},null,8,["modelValue"]),l("small",M,q(n.value),1),a(k,{icon:"person",dense:"",label:"Login",dark:"",color:"primary",onClick:b,class:"full-width",loading:t.value,rounded:""},null,8,["loading"])]),_:1})]),_:1})])]),_:1}))}};export{F as default};
