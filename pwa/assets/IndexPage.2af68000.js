import{bA as C,i as h,bK as i,c as y,h as V,bB as q,bM as P,bY as B,g as $,r as b,ca as F,j as L,aJ as S,a4 as k,bb as p,a7 as u,d as l,bD as z,ad as v,Q as E,bE as I}from"./index.04598a5c.js";import{b as _,Q as M}from"./QCard.ceedae79.js";import{Q}from"./QInput.7f992565.js";import{u as D}from"./auth-store.00b1fc28.js";import{a as H}from"./use-quasar.f2be70aa.js";import"./helpers.6384b5cb.js";var K=C({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(c,{slots:o}){const{proxy:{$q:n}}=$(),a=h(P,i);if(a===i)return console.error("QPage needs to be a deep child of QLayout"),i;if(h(B,i)===i)return console.error("QPage needs to be child of QPageContainer"),i;const m=y(()=>{const r=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof c.styleFn=="function"){const d=a.isContainer.value===!0?a.containerHeight.value:n.screen.height;return c.styleFn(r,d)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-r+"px":n.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":n.screen.height-r+"px"}}),t=y(()=>`q-page${c.padding===!0?" q-layout-padding":""}`);return()=>V("main",{class:t.value,style:m.value},q(o.default))}});const N={class:"q-gutter-y-md",style:{width:"60%"}},U={style:{"font-weight":"bolder","font-size":"larger"}},j=u("br",null,null,-1),A=u("hr",null,null,-1),R={style:{color:"red"}},X={__name:"IndexPage",setup(c){const o=b(!1),n=b(""),a=H(),f=F(),m=D(),t=L({name:"",email:"",password:""}),r=async()=>{const s={email:t.email.trim(),password:t.password.trim()};if(s.email&&s.password){o.value=!0;const e=await m.login(s);e.status==="success"?x(e.message,"green"):(o.value=!1,w(e.message))}else o.value=!1,d("Email and password are required","red")},d=(s,e)=>{a.notify({message:s,color:e,position:"top"})},w=s=>{n.value=s,d(s,"red"),setTimeout(()=>n.value="",1e4)},x=(s,e)=>{f.push("/dashboard"),o.value=!1,d(s,e)};return(s,e)=>(S(),k(K,{class:"flex flex-center"},{default:p(()=>[u("div",N,[l(M,{bordered:""},{default:p(()=>[l(_,{class:"text-center"},{default:p(()=>[u("p",U,[l(z,{name:"grain",style:{"font-size":"30px"}}),v(),j,v("Login to the System ")]),A]),_:1}),l(_,null,{default:p(()=>[l(Q,{rounded:"",dense:"",outlined:"",type:"email",label:"Email",modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=g=>t.email=g),class:"q-mb-sm"},null,8,["modelValue"]),l(Q,{rounded:"",dense:"",outlined:"",type:"password",label:"Password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=g=>t.password=g),class:"q-mb-sm"},null,8,["modelValue"]),u("small",R,E(n.value),1),l(I,{icon:"person",dense:"",label:"Login",dark:"",color:"primary",onClick:r,class:"full-width",loading:o.value,rounded:""},null,8,["loading"])]),_:1})]),_:1})])]),_:1}))}};export{X as default};
