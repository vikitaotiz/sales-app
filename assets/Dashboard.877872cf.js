import{Q as $}from"./QPage.48463c92.js";import{a as n,Q as i}from"./QCard.26ee33d1.js";import{g as m}from"./get-css-var.23548d6a.js";import{u as y}from"./index.98993c44.js";import{u as w}from"./sale-store.38f59fab.js";import{j as b,r as k,aQ as C,aI as p,a3 as q,bb as l,d as t,a6 as s,a5 as g,bD as v,ac as d,P as h,u as r,a4 as S}from"./index.5fb5782a.js";import{u as Q}from"./account-store.8eb7b1f9.js";import"./use-dark.a05d927d.js";import"./module_calls.421761b7.js";import"./helpers.73a7253f.js";const B={__name:"BarChart",setup(x){const o=w(),u=b({title:{text:"Sales Records for the last seven days",align:"left"},chart:{id:"apex-column"},colors:[m("primary"),m("secondary"),m("negative")],xaxis:{categories:[]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}}}),f=k([{name:"Sales",data:[]}]);return y("sales",()=>o.fetchSevenDaysSales(),{onSuccess:_=>{u.xaxis.categories=_.map(c=>c.day),f.value[0].data=_.map(c=>c.sales)}}),(_,c)=>{const a=C("apexchart");return p(),q(n,{class:"q-pa-sm"},{default:l(()=>[t(a,{height:"300",type:"bar",options:u,series:f.value},null,8,["options","series"])]),_:1})}}},P={__name:"PieChart",setup(x){const o=Q();y("product_sales",()=>o.fetchProductSales(),{onSuccess:_=>{f.value=_.map(c=>c.quantity),u.labels=_.map(c=>c.name)}});const u=b({title:{text:"Todays Product Sales",align:"left"},chart:{id:"apex-donut"},colors:[m("secondary"),m("accent"),m("positive"),m("primary"),m("negative"),m("info")],markers:{size:4,hover:{sizeOffset:6}},labels:[]}),f=k([]);return(_,c)=>{const a=C("apexchart");return p(),q(n,null,{default:l(()=>[t(i,null,{default:l(()=>[t(a,{height:"300",type:"pie",options:u,series:f.value},null,8,["options","series"])]),_:1})]),_:1})}}},N={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},T={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},V={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},D={__name:"Main",setup(x){return(o,u)=>(p(),q($,null,{default:l(()=>[s("div",N,[s("div",T,[t(B)]),s("div",V,[t(P)])])]),_:1}))}},z={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},A={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},M={class:"text-center q-pa-sm"},I=s("hr",null,null,-1),O={class:"row q-pa-sm"},j={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},E=s("hr",null,null,-1),R={class:"q-ma-sm"},W={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},F=s("hr",null,null,-1),G={class:"q-ma-sm"},H={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},J=s("hr",null,null,-1),K={class:"q-ma-sm"},L={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},U=s("hr",null,null,-1),X={class:"q-ma-sm"},Y={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Z={class:"text-center q-pa-sm"},ss=s("hr",null,null,-1),as={class:"row q-pa-sm"},ts={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},es=s("hr",null,null,-1),ls={class:"q-ma-sm"},os={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},cs=s("hr",null,null,-1),_s={class:"q-ma-sm"},ns={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},ds=s("hr",null,null,-1),rs={class:"q-ma-sm"},is={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},ms=s("hr",null,null,-1),us={class:"q-ma-sm"},hs={__name:"Stats",setup(x){const o=Q();return y("account_stats_today",()=>o.fetchTodaySalesStats()),y("account_stats_all",()=>o.fetchAllSalesStats()),(u,f)=>(p(),g("div",z,[s("div",A,[t(n,null,{default:l(()=>{var _,c;return[s("div",M,[s("b",null,[t(v,{name:"grain"}),d(" Today Sales")])]),I,s("div",O,[s("div",j,[t(n,{dark:"",class:"bg-primary"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Total Sales "),E,s("h5",R,h((e=(a=r(o))==null?void 0:a.today_sales_data[0])==null?void 0:e.total_daily_sales),1)]}),_:1})]),_:1})]),s("div",W,[t(n,{dark:"",class:"bg-info"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Cash Sales "),F,s("h5",G,h((e=(a=r(o))==null?void 0:a.today_sales_data[1])==null?void 0:e.total_daily_cash_sales),1)]}),_:1})]),_:1})]),s("div",H,[t(n,{dark:"",class:"bg-warning"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Mpesa Sales "),J,s("h5",K,h((e=(a=r(o))==null?void 0:a.today_sales_data[2])==null?void 0:e.total_daily_mpesa_sales),1)]}),_:1})]),_:1})]),((c=(_=r(o))==null?void 0:_.today_sales_data[3])==null?void 0:c.total_daily_pending_sales)>0?(p(),g("div",L,[t(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Number of Pending Bills "),U,s("h5",X,h((e=(a=r(o))==null?void 0:a.today_sales_data[3])==null?void 0:e.total_daily_pending_sales),1)]}),_:1})]),_:1})])):S("",!0)])]}),_:1})]),s("div",Y,[t(n,null,{default:l(()=>{var _,c;return[s("div",Z,[s("b",null,[t(v,{name:"grain"}),d(" All Sales")])]),ss,s("div",as,[s("div",ts,[t(n,{dark:"",class:"bg-primary"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Total Sales "),es,s("h5",ls,h((e=(a=r(o))==null?void 0:a.all_sales_data[0])==null?void 0:e.total_sales),1)]}),_:1})]),_:1})]),s("div",os,[t(n,{dark:"",class:"bg-info"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Cash Sales "),cs,s("h5",_s,h((e=(a=r(o))==null?void 0:a.all_sales_data[1])==null?void 0:e.total_cash_sales),1)]}),_:1})]),_:1})]),s("div",ns,[t(n,{dark:"",class:"bg-warning"},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Mpesa Sales "),ds,s("h5",rs,h((e=(a=r(o))==null?void 0:a.all_sales_data[2])==null?void 0:e.total_mpesa_sales),1)]}),_:1})]),_:1})]),((c=(_=r(o))==null?void 0:_.all_sales_data[3])==null?void 0:c.total_pending_sales)>0?(p(),g("div",is,[t(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[t(i,{class:"text-center"},{default:l(()=>{var a,e;return[d(" Number of Pending Bills "),ms,s("h5",us,h((e=(a=r(o))==null?void 0:a.all_sales_data[3])==null?void 0:e.total_pending_sales),1)]}),_:1})]),_:1})])):S("",!0)])]}),_:1})])]))}},ps={class:"q-pa-sm"},Qs={__name:"Dashboard",setup(x){return(o,u)=>(p(),g("div",ps,[t(hs),t(D)]))}};export{Qs as default};
