import{r as z,bT as O,o as d,bA as T,aA as v,bH as S,ax as g,h as _,g as R,bS as b,b_ as U,b$ as j}from"./index.cc8e0a4c.js";import{b as y}from"./helpers.73a7253f.js";function C(){const t=z(!O.value);return t.value===!1&&d(()=>{t.value=!0}),t}const w=typeof ResizeObserver!="undefined",m=w===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var E=T({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let r=null,s,i={width:-1,height:-1};function a(n){n===!0||t.debounce===0||t.debounce==="0"?u():r===null&&(r=setTimeout(u,t.debounce))}function u(){if(r!==null&&(clearTimeout(r),r=null),s){const{offsetWidth:n,offsetHeight:o}=s;(n!==i.width||o!==i.height)&&(i={width:n,height:o},e("resize",i))}}const{proxy:c}=R();if(w===!0){let n;const o=l=>{s=c.$el.parentNode,s?(n=new ResizeObserver(a),n.observe(s),u()):l!==!0&&g(()=>{o(!0)})};return d(()=>{o()}),v(()=>{r!==null&&clearTimeout(r),n!==void 0&&(n.disconnect!==void 0?n.disconnect():s&&n.unobserve(s))}),S}else{let l=function(){r!==null&&(clearTimeout(r),r=null),o!==void 0&&(o.removeEventListener!==void 0&&o.removeEventListener("resize",a,b.passive),o=void 0)},h=function(){l(),s&&s.contentDocument&&(o=s.contentDocument.defaultView,o.addEventListener("resize",a,b.passive),u())};const n=C();let o;return d(()=>{g(()=>{s=c.$el,s&&h()})}),v(l),c.trigger=a,()=>{if(n.value===!0)return _("object",{style:m.style,tabindex:-1,type:"text/html",data:m.url,"aria-hidden":"true",onLoad:h})}}}});const f={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},L=Object.keys(f);f.all=!0;function x(t){const e={};for(const r of L)t[r]===!0&&(e[r]=!0);return Object.keys(e).length===0?f:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const N=["INPUT","TEXTAREA"];function P(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&N.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}const p=async(t,e)=>(await fetch(`${y}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),$=async(t,e)=>(await fetch(`${y}/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json(),B=U("auth",{state:()=>({user:j()}),actions:{saveUser(t){localStorage.setItem("auth_user",JSON.stringify(t))},removeUser(){localStorage.removeItem("auth_user")},async login(t){const e=await p(t,"login");return this.saveUser(e),this.user=e,e},async register(t){const e=await p(t,"register");return this.saveUser(e),this.user=e,e},async logout(){var t,e;if((t=this.user)!=null&&t.token){const r=await $("logout",(e=this.user)==null?void 0:e.token);if(r.status==="success")return this.removeUser(r),this.user=null,r}else alert("Logout. There was an error")}}});export{E as Q,x as g,P as s,B as u};
