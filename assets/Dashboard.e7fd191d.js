import{Q as C}from"./QPage.fa3dbfdb.js";import{a as n,Q as d}from"./QCard.b052ba04.js";import{u as g}from"./index.1f244ee4.js";import{u as $}from"./sale-store.dd3ce955.js";import{j as S,r as b,aQ as k,aI as f,a3 as q,bb as l,d as a,a6 as s,a5 as y,ac as m,P as h,u as r,a4 as v}from"./index.29739106.js";import{u as w}from"./account-store.f6b0fff8.js";import"./use-dark.b013d156.js";import"./module_calls.421761b7.js";import"./helpers.73a7253f.js";function i(p,o=document.body){if(typeof p!="string")throw new TypeError("Expected a string as propName");if(!(o instanceof Element))throw new TypeError("Expected a DOM element");return getComputedStyle(o).getPropertyValue(`--q-${p}`).trim()||null}const P={__name:"BarChart",setup(p){const o=$(),u=S({title:{text:"Sales Records for the last seven days",align:"left"},chart:{id:"apex-column"},colors:[i("primary"),i("secondary"),i("negative")],xaxis:{categories:[]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}}}),x=b([{name:"Sales",data:[]}]);return g("sales",()=>o.fetchSevenDaysSales(),{onSuccess:_=>{u.xaxis.categories=_.map(c=>c.day),x.value[0].data=_.map(c=>c.sales)}}),(_,c)=>{const t=k("apexchart");return f(),q(n,{class:"q-pa-sm"},{default:l(()=>[a(t,{height:"300",type:"bar",options:u,series:x.value},null,8,["options","series"])]),_:1})}}},T={__name:"PieChart",setup(p){const o=w();g("product_sales",()=>o.fetchProductSales(),{onSuccess:_=>{x.value=_.map(c=>c.quantity),u.labels=_.map(c=>c.name)}});const u=S({title:{text:"Todays Product Sales",align:"left"},chart:{id:"apex-donut"},colors:[i("secondary"),i("accent"),i("positive"),i("primary"),i("negative"),i("info")],markers:{size:4,hover:{sizeOffset:6}},labels:[]}),x=b([]);return(_,c)=>{const t=k("apexchart");return f(),q(n,null,{default:l(()=>[a(d,null,{default:l(()=>[a(t,{height:"300",type:"pie",options:u,series:x.value},null,8,["options","series"])]),_:1})]),_:1})}}},B={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},Q={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},E={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},N={__name:"Main",setup(p){return(o,u)=>(f(),q(C,null,{default:l(()=>[s("div",B,[s("div",Q,[a(P)]),s("div",E,[a(T)])])]),_:1}))}},V={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},D={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},M=s("div",{class:"text-center q-pa-sm"},[s("b",null,"Today Sales")],-1),z=s("hr",null,null,-1),A={class:"row q-pa-sm"},O={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},j=s("hr",null,null,-1),I={class:"q-ma-sm"},R={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},W=s("hr",null,null,-1),F={class:"q-ma-sm"},G={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},H=s("hr",null,null,-1),J={class:"q-ma-sm"},K={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},L=s("hr",null,null,-1),U={class:"q-ma-sm"},X={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Y=s("div",{class:"text-center q-pa-sm"},[s("b",null,"All Sales")],-1),Z=s("hr",null,null,-1),ss={class:"row q-pa-sm"},ts={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},as=s("hr",null,null,-1),es={class:"q-ma-sm"},ls={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},os=s("hr",null,null,-1),cs={class:"q-ma-sm"},_s={class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},ns=s("hr",null,null,-1),rs={class:"q-ma-sm"},ds={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-6"},is=s("hr",null,null,-1),us={class:"q-ma-sm"},ms={__name:"Stats",setup(p){const o=w();return g("account_stats_today",()=>o.fetchfetchTodaySalesStats()),g("account_stats_all",()=>o.fetchfetchAllSalesStats()),(u,x)=>(f(),y("div",V,[s("div",D,[a(n,null,{default:l(()=>{var _,c;return[M,z,s("div",A,[s("div",O,[a(n,{dark:"",class:"bg-primary"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Total Sales "),j,s("h5",I,h((e=(t=r(o))==null?void 0:t.today_sales_data[0])==null?void 0:e.total_daily_sales),1)]}),_:1})]),_:1})]),s("div",R,[a(n,{dark:"",class:"bg-info"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Cash Sales "),W,s("h5",F,h((e=(t=r(o))==null?void 0:t.today_sales_data[1])==null?void 0:e.total_daily_cash_sales),1)]}),_:1})]),_:1})]),s("div",G,[a(n,{dark:"",class:"bg-warning"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Mpesa Sales "),H,s("h5",J,h((e=(t=r(o))==null?void 0:t.today_sales_data[2])==null?void 0:e.total_daily_mpesa_sales),1)]}),_:1})]),_:1})]),((c=(_=r(o))==null?void 0:_.today_sales_data[3])==null?void 0:c.total_daily_pending_sales)>0?(f(),y("div",K,[a(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Number of Pending Bills "),L,s("h5",U,h((e=(t=r(o))==null?void 0:t.today_sales_data[3])==null?void 0:e.total_daily_pending_sales),1)]}),_:1})]),_:1})])):v("",!0)])]}),_:1})]),s("div",X,[a(n,null,{default:l(()=>{var _,c;return[Y,Z,s("div",ss,[s("div",ts,[a(n,{dark:"",class:"bg-primary"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Total Sales "),as,s("h5",es,h((e=(t=r(o))==null?void 0:t.all_sales_data[0])==null?void 0:e.total_sales),1)]}),_:1})]),_:1})]),s("div",ls,[a(n,{dark:"",class:"bg-info"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Cash Sales "),os,s("h5",cs,h((e=(t=r(o))==null?void 0:t.all_sales_data[1])==null?void 0:e.total_cash_sales),1)]}),_:1})]),_:1})]),s("div",_s,[a(n,{dark:"",class:"bg-warning"},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Mpesa Sales "),ns,s("h5",rs,h((e=(t=r(o))==null?void 0:t.all_sales_data[2])==null?void 0:e.total_mpesa_sales),1)]}),_:1})]),_:1})]),((c=(_=r(o))==null?void 0:_.all_sales_data[3])==null?void 0:c.total_pending_sales)>0?(f(),y("div",ds,[a(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[a(d,{class:"text-center"},{default:l(()=>{var t,e;return[m(" Number of Pending Bills "),is,s("h5",us,h((e=(t=r(o))==null?void 0:t.all_sales_data[3])==null?void 0:e.total_pending_sales),1)]}),_:1})]),_:1})])):v("",!0)])]}),_:1})])]))}},hs={class:"q-pa-sm"},ks={__name:"Dashboard",setup(p){return(o,u)=>(f(),y("div",hs,[a(ms),a(N)]))}};export{ks as default};
